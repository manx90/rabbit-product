import{j as e,J as q,e as R,f as E,r as v,K as B,M as X}from"./vendor-CUEbPlo7.js";import{s as Y,a as V,b as _,r as J,i as U,h as F,c as T,d as Q,e as A,u as K,f as D,R as M,g as G}from"./index-CiYv5-Yo.js";import{u as H}from"./ui-components-COOuEkzG.js";import{a as O,u as Z}from"./useCategoryProducts-Croo7F_K.js";import{c as ee,a as te}from"./router-CHW3atcw.js";import"./utils-Dpy6SecU.js";import"./forms-C74EBmA-.js";const se=({product:t})=>{const n=`مرحباً!

أرغب بالحصول على مزيد من التفاصيل حول هذا المنتج:

الاسم: ${t.name}
رابط المنتج: ${window.location.href}

شكراً لكم مقدمًا!`,o=`https://api.whatsapp.com/send?phone=972569341491&text=${encodeURIComponent(n)}`;return e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 z-50 flex items-center justify-center rounded-full bg-green-500 p-4 text-white shadow-lg transition hover:bg-green-600",title:"تواصل عبر واتساب",children:e.jsx(q.FaWhatsapp,{})})};function W(t){return t?t.startsWith("http")?t:`https://api.rabbit.ps/uploads/${t}`:""}const ae=()=>{const{id:t}=ee(),n=te(),l=R(),o=E(Y),f=E(V),m=E(_),{data:c,isLoading:b,error:w}=O(t),j=(w==null?void 0:w.message)||null;if(v.useEffect(()=>{l(J())},[t,l]),v.useEffect(()=>{c&&l(U({product:c}))},[c,l]),t&&isNaN(parseInt(t)))return setTimeout(()=>{n("/")},2e3),{product:null,loading:!1,error:"Invalid product ID",selectedColor:o,selectedSize:f,quantity:m,setSelectedColor:x=>l(A(x)),setSelectedSize:x=>l(Q({sizeName:x,product:c})),setQuantity:x=>l(T(x)),handleQuantityChange:x=>{const g=u(c,f,o);l(F({newQuantity:x,maxQuantity:g}))},colorQuantity:0,prefixImgUrl:W};const u=(d,x,g)=>{var y,C,S;if(!d)return 0;const i=(y=d.sizeDetails)==null?void 0:y.find(k=>k.sizeName===x);return((S=(C=i==null?void 0:i.quantities)==null?void 0:C.find(k=>k.colorName===g))==null?void 0:S.quantity)||0},h=u(c,f,o);return{product:c,loading:b,error:j,selectedColor:o,selectedSize:f,quantity:m,setSelectedColor:d=>l(A(d)),setSelectedSize:d=>l(Q({sizeName:d,product:c})),setQuantity:d=>l(T(d)),handleQuantityChange:d=>{l(F({newQuantity:d,maxQuantity:h}))},colorQuantity:h,prefixImgUrl:W}};function fe(){const{product:t,selectedColor:n,setSelectedColor:l,selectedSize:o,setSelectedSize:f,quantity:m,handleQuantityChange:c,loading:b,error:w}=ae(),{addItem:j}=K(),{addToast:u}=H(),[h,N]=v.useState(),d=g=>{l(g),N(null)},x=()=>{var L,s,p,a;if(!t||!n||!o){u({title:"خطأ في الاختيار",description:"يرجى اختيار اللون والحجم"});return}const g=(L=t.colors)==null?void 0:L.find(r=>r.name===n),i=(s=t.sizeDetails)==null?void 0:s.find(r=>r.sizeName===o);if(!i){u({title:"خطأ في المقاس",description:"حجم غير صحيح"});return}let y=1;if(i&&i.quantities){const r=i.quantities.find(z=>z.colorName.trim()===n.trim());r&&(y=r.quantity)}const C=((p=t.sizeDetails)==null?void 0:p.map(r=>r.sizeName))||[],S=((a=t.colors)==null?void 0:a.map(r=>r.name))||[],k={...t,productId:t.id,sizeName:o,colorName:n,quantity:y,qty:m,image:(g==null?void 0:g.imgColor)||t.imgCover,price:i.price,availableSizes:C,availableColors:S};j(k),u({title:"تمت الإضافة!",description:`تم إضافة المنتج (${t.name}) إلى السلة بنجاح.`})};return w?e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center",children:[e.jsx("p",{className:"text-red-500",children:w}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Redirecting to home page..."})]}):b?e.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Loading product..."})}):t?e.jsxs("div",{children:[e.jsx("div",{className:"relative m-[16px] flex flex-col justify-center gap-2 lg:mt-16",children:e.jsx(ne,{MainImage:h,setMainImage:N,product:t,selectedColor:n,selectedSize:o,quantity:m,onColorSelect:d,onSizeSelect:f,onQuantityChange:c,onAddToCart:x})}),e.jsx(oe,{product:t}),e.jsx(se,{product:t}),e.jsx(le,{link:t.videoLink})]}):null}function re({product:t,selectedColor:n}){var L,s,p;const l=(L=t.colors)==null?void 0:L.find(a=>a.name===n),o=(l==null?void 0:l.imgColor)||t.imgCover||((s=t.images)==null?void 0:s[0]),f=((p=t.colors)==null?void 0:p.map(a=>a.imgColor).filter(Boolean))||[],m=t.images||[],c=[...new Set([...m,...f])],[b,w]=v.useState(0),j=c[b]||o,u=a=>{a&&(a.preventDefault(),a.stopPropagation()),w(r=>r===c.length-1?0:r+1)},h=a=>{a&&(a.preventDefault(),a.stopPropagation()),w(r=>r===0?c.length-1:r-1)},[N,d]=v.useState(null),[x,g]=v.useState(null),i=50,y=a=>{g(null),d(a.targetTouches[0].clientX)},C=a=>{g(a.targetTouches[0].clientX)},S=a=>{if(!N||!x)return;const r=N-x,z=r>i,P=r<-50;z&&u(a),P&&h(a)},k=a=>{const r=c.findIndex(z=>z===a);r!==-1&&w(r)};return v.useEffect(()=>(window.updateCarouselImage=k,()=>{delete window.updateCarouselImage}),[c]),v.useEffect(()=>{const a=r=>{r.key==="ArrowLeft"?h(r):r.key==="ArrowRight"&&u(r)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]),e.jsx("div",{className:"relative w-full lg:w-1/2",children:e.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden rounded-2xl bg-white shadow-lg lg:h-[600px]",onTouchStart:y,onTouchMove:C,onTouchEnd:S,onMouseDown:a=>a.preventDefault(),children:[e.jsx("img",{src:`https://api.rabbit.ps/uploads/${j}`,alt:`${t.name} - صورة ${b+1}`,className:"h-full w-full object-contain p-4 transition-all duration-300"}),c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h,onTouchEnd:a=>{a.stopPropagation(),h()},className:"group absolute left-4 top-1/2 flex h-12 w-12 -translate-y-1/2 touch-manipulation items-center justify-center rounded-full bg-white/80 text-gray-800 shadow-lg transition-all duration-200 hover:scale-110 hover:bg-white active:scale-95 active:bg-white/90","aria-label":"الصورة السابقة",style:{touchAction:"manipulation"},children:e.jsx("svg",{className:"h-6 w-6 transition-colors group-hover:text-blue-600 group-active:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:u,onTouchEnd:a=>{a.stopPropagation(),u()},className:"group absolute right-4 top-1/2 flex h-12 w-12 -translate-y-1/2 touch-manipulation items-center justify-center rounded-full bg-white/80 text-gray-800 shadow-lg transition-all duration-200 hover:scale-110 hover:bg-white active:scale-95 active:bg-white/90","aria-label":"الصورة التالية",style:{touchAction:"manipulation"},children:e.jsx("svg",{className:"h-6 w-6 transition-colors group-hover:text-blue-600 group-active:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})}function ne({product:t,selectedColor:n,selectedSize:l,quantity:o,onColorSelect:f,onSizeSelect:m,onQuantityChange:c,onAddToCart:b,setMainImage:w,MainImage:j}){var y,C,S,k,L;const[u,h]=v.useState(!1),N=v.useRef(null),d=(y=t.sizeDetails)==null?void 0:y.find(s=>s.sizeName===l),x=(d==null?void 0:d.price)||0,g=((S=(C=d==null?void 0:d.quantities)==null?void 0:C.find(s=>s.colorName===n))==null?void 0:S.quantity)||0,i=()=>{var p;if(!t.sizeDetails||t.sizeDetails.length<=1)return!1;const s=(p=t.sizeDetails[0])==null?void 0:p.price;return t.sizeDetails.some(a=>a.price!==s)};return e.jsxs("div",{className:"relative mx-2 mt-16 md:mx-0 lg:mt-0",children:[e.jsx("form",{dir:"rtl",className:"mx-auto flex flex-col gap-8 lg:flex-row",children:e.jsxs(D,{className:"w-full gap-4",children:[e.jsxs(M,{className:"w-full flex-col lg:flex-row lg:gap-8",children:[e.jsx(re,{product:t,selectedColor:n,MainImage:j,setMainImage:w,ref:N}),e.jsxs(D,{className:"gap-8",children:[e.jsxs(D,{className:"gap-4",children:[e.jsx(M,{className:"items-center justify-between",children:e.jsx("span",{dir:"rtl",className:"ml-auto font-Lato text-2xl font-bold text-slate-800 dark:text-white lg:text-2xl",children:t.name})}),e.jsx("span",{dir:"rtl",className:"ml-auto text-[16px] text-[#3e3e3e] dark:text-gray-400",children:t.description}),e.jsxs("span",{dir:"rtl",className:"flex gap-2 rounded-lg font-NotoSerif text-4xl font-semibold tracking-wider text-slate-800 drop-shadow-lg dark:text-white",children:[e.jsx("span",{className:"font-Lato text-[18px] font-semibold text-[#2c2c2c] dark:text-white",children:"السعر :"}),e.jsx("img",{src:"/Layer_1.svg",alt:"شيكل",className:"h-4 w-4 self-end drop-shadow"}),x]})]}),i()&&e.jsxs("div",{className:"ml-auto flex w-fit flex-row-reverse items-end gap-2 rounded-lg border border-[#FFD6D6] bg-[#FFF0F0] px-4 py-2 shadow-sm",children:[e.jsx("svg",{dir:"rtl",className:"mr-auto h-5 w-5 animate-bounce text-[#DF4444]",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})}),e.jsxs("span",{dir:"rtl",className:"text-right font-Lato text-[15px] font-semibold text-[#DF4444] md:text-[17px]",children:["ملاحظة:"," ",e.jsx("span",{className:"font-normal",children:"السعر يختلف حسب الحجم"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:gap-8",children:[e.jsxs("fieldset",{className:"m-0 flex flex-row flex-wrap items-center gap-3 border-0 p-0",children:[e.jsx("span",{className:"mb-2 ml-2 mt-3 max-w-[450px] text-right text-black dark:text-white",children:"القياس :"}),(k=t.sizeDetails)==null?void 0:k.map(s=>{var a;const p=((a=s.quantities)==null?void 0:a.some(r=>r.quantity>0))||!1;return e.jsxs("label",{className:`relative flex h-[44px] min-w-[60px] items-center justify-center rounded-lg border-2 px-4 py-2 font-Lato text-[18px] shadow-sm transition-all duration-200 ${p?l===s.sizeName?"cursor-pointer border-blue-500 bg-blue-50 text-blue-700 ring-2 ring-blue-200":"cursor-pointer border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50":"cursor-not-allowed border-gray-300 bg-gray-100 text-gray-400 opacity-50"} `,style:{userSelect:"none"},onClick:r=>{r.preventDefault(),r.stopPropagation(),p&&m(s.sizeName)},children:[e.jsx("input",{type:"radio",name:"size",value:s.sizeName,checked:l===s.sizeName,disabled:!p,onChange:()=>m(s.sizeName),className:"absolute h-0 w-0 opacity-0",tabIndex:0,"aria-label":s.sizeName}),e.jsx("span",{className:"pointer-events-none",children:s.sizeName}),l===s.sizeName&&e.jsx("span",{className:"absolute -left-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full border-2 border-white bg-blue-500 text-xs text-white shadow-md",children:"✓"})]},s.sizeName)}),t.imgSizeChart&&t.imgMeasure&&e.jsxs("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),h(!0)},className:"flex w-fit items-center gap-2 rounded-lg border border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium text-blue-600 shadow-sm transition-all duration-200 hover:bg-blue-100 hover:text-blue-700 hover:shadow-md dark:border-blue-800 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50 dark:hover:text-blue-300",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{children:"اضغط هنا لمعرفة مقاسك"})]})]}),e.jsxs("fieldset",{className:"m-0 flex flex-row flex-wrap items-center justify-start gap-2 border-0 p-0",children:[e.jsx("span",{className:"mb-2 ml-2 mt-2 max-w-[450px] text-right text-black dark:text-white",children:"اللون :"}),(L=t.colors)==null?void 0:L.map(s=>{var z,P,$;const p=(z=t.sizeDetails)==null?void 0:z.find(I=>I.sizeName===l),r=((($=(P=p==null?void 0:p.quantities)==null?void 0:P.find(I=>I.colorName===s.name))==null?void 0:$.quantity)||0)>0;return e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("div",{className:`relative flex h-14 w-14 items-center justify-center rounded-lg border-[1px] object-cover p-1 transition ${r?n===s.name?"cursor-pointer border-blue-400":"cursor-pointer border-[#535353]":"cursor-not-allowed border-gray-300 opacity-50"}`,style:{boxSizing:"border-box"},onClick:I=>{I.preventDefault(),I.stopPropagation(),r&&(f(s.name),window.updateCarouselImage&&window.updateCarouselImage(s.imgColor))},children:[e.jsx("input",{type:"radio",name:"color",value:s.name,checked:n===s.name,disabled:!r,onChange:()=>f(s.name),className:"absolute h-0 w-0 opacity-0","aria-label":s.name}),e.jsx("img",{src:`https://api.rabbit.ps/uploads/${s.imgColor}`,alt:s.name,className:"h-full w-full rounded-md object-cover"}),!r&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-black/60",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"block px-1 text-center text-xs font-bold text-white",children:"غير متوفر"}),e.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-0.5 -translate-y-1/2 transform bg-red-500"})]})}),n===s.name&&e.jsx("div",{className:"absolute right-1 top-1 flex h-5 w-5 items-center justify-center rounded-full border-2 border-white bg-blue-400",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 8.5L7 11.5L12 5.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsx("span",{className:"max-w-[56px] truncate text-center text-xs text-black dark:text-white",children:s.name})]},s.name)})]}),n?e.jsxs("div",{className:"my-2 flex flex-row items-center gap-2",children:[e.jsx("span",{dir:"rtl",className:"text-[18px] font-medium text-black dark:text-white",children:"المتوفر :"}),e.jsx("div",{dir:"rtl",className:"flex min-w-[48px] items-center justify-center rounded-full border border-green-400 bg-green-100 px-4 py-1",children:e.jsxs("span",{dir:"rtl",className:"text-[20px] font-bold tracking-widest text-green-600",children:[g," قطع"]})}),e.jsx("span",{className:"mr-2 flex items-center gap-1 text-[14px] text-black dark:text-white"})]}):e.jsx("div",{className:"my-2 flex flex-row items-center gap-2",children:e.jsx("span",{dir:"rtl",className:"text-[18px] font-medium text-red-600 dark:text-red-400",children:"يرجى اختيار لون متوفر"})}),e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsxs("div",{className:`flex h-[44px] w-1/2 max-w-[150px] flex-row-reverse items-center justify-between rounded-lg border border-[#E0E0E0] shadow-sm ${n?"bg-[#FAFAFA]":"bg-gray-100 opacity-50"}`,children:[e.jsx("button",{type:"button",onClick:()=>c(o+1),className:"flex h-10 w-10 items-center justify-center rounded-lg p-[4px] py-3 text-xl font-bold text-[#0095FF] transition hover:bg-[#E6F4FF]","aria-label":"زيادة الكمية",tabIndex:0,disabled:!n,children:"+"}),e.jsx("input",{type:"text",name:"quantity",inputMode:"numeric",pattern:"[0-9]*",min:1,max:g,value:o,onChange:s=>{const p=s.target.value.replace(/\D/g,""),a=parseInt(p,10);isNaN(a)||c(a)},className:"w-8 select-none border-none bg-transparent text-center font-Lato text-lg font-semibold text-[#232323] focus:outline-none","aria-label":"الكمية",disabled:!n}),e.jsx("button",{type:"button",onClick:()=>c(o>1?o-1:1),className:"flex h-10 w-10 items-center justify-center rounded-lg text-xl font-bold text-[#DF4444] transition hover:bg-[#FFF0F0]","aria-label":"إنقاص الكمية",disabled:o<=1||!n,tabIndex:0,children:"-"})]}),e.jsxs("button",{type:"button",onClick:b,className:`group flex h-[44px] w-1/2 flex-row-reverse items-center justify-center gap-[4px] rounded-lg border-2 border-solid p-[4px] py-3 shadow transition-colors ${n?"border-[#ecebebf0] bg-[#fefefe] hover:bg-blue-50 dark:border-blue-800 dark:bg-gradient-to-r dark:from-blue-900 dark:to-blue-700 dark:hover:bg-blue-800/80":"cursor-not-allowed border-gray-300 bg-gray-100 opacity-50"}`,disabled:!n,children:[e.jsx("span",{className:`font-Lato transition-colors ${n?"text-black dark:text-white dark:group-hover:text-white":"text-gray-500"}`,children:"أضف الى السلة"}),e.jsx(X,{className:`h-5 w-5 transition-colors ${n?"text-blue-600 group-hover:fill-blue-600 dark:fill-white dark:text-white dark:group-hover:fill-white":"text-gray-500"}`})]})]})]})]})]}),t.imgSizeChart&&t.imgMeasure&&e.jsx(ie,{product:t,openDimensions:u,setOpenDimensions:h})]})}),e.jsxs(D,{dir:"rtl",className:"mx-auto mt-4 justify-center gap-10 border-y border-gray-200 p-4 dark:border-gray-700 lg:flex-row",children:[e.jsxs("div",{className:"mx-auto flex w-64 flex-col items-center justify-center",children:[e.jsx("img",{src:"/okOrder.svg",alt:"",className:"text-blue h-20 w-20"}),e.jsx(M,{children:e.jsx("span",{className:"py-3 text-[20px] font-semibold text-[#535353] dark:text-white",children:"الدفع والتوصيل:"})}),e.jsx("span",{className:"text-center text-[14px] text-gray-500 dark:text-gray-300",children:"ببساطة نقوم بايصال المنتج لغاية منزلك وتقوم بدفع الثمن لموظف التوصيل."})]}),e.jsxs("div",{className:"mx-auto flex w-64 flex-col items-center justify-center",children:[e.jsx("img",{src:"/return.svg",alt:"",className:"h-20 w-20"}),e.jsx("span",{className:"py-3 text-[20px] font-semibold text-[#535353] dark:text-white",children:"التبديل:"}),e.jsx("span",{className:"text-center text-[14px] text-gray-500 dark:text-gray-300",children:"تواصل معنا عبر رسائل الواتس اب لإتمام عملية التبديل و نقوم بايصال المنتج ل باب منزلك مع دفع أجرة التوصيل ."})]}),e.jsxs("div",{className:"mx-auto flex w-64 flex-col items-center justify-center",children:[e.jsx("img",{src:"/offOrder.svg",alt:"",className:"h-20 w-20"}),e.jsx("span",{className:"py-3 text-[20px] font-semibold text-[#535353] dark:text-white",children:"الغاء الطلب:"}),e.jsx("span",{className:"text-center text-[14px] text-gray-500 dark:text-gray-300",children:"بعد إتمام طلبك و اردت إلغاء الطلب تواصل معنا عبر الواتس اب ل إلغاء الطلب"})]})]})]})}function oe({product:t}){const{data:l=[],isLoading:o,error:f}=Z(t.category.id,t.subCategory.id,10),m=l.map(c=>{var j;let b=c.imgCover;typeof b=="string"&&b.startsWith("https://api.rabbit.ps/uploads")&&(b=b.replace("https://api.rabbit.ps/uploads",""));const w=((j=c.colors)==null?void 0:j.map(u=>{var h;return{...u,imgColor:(h=u.imgColor)!=null&&h.startsWith("https://api.rabbit.ps/uploads")?u.imgColor.replace("https://api.rabbit.ps/uploads",""):u.imgColor}}))||[];return{...c,imgCover:b,colors:w}});return e.jsxs(D,{className:"mr-4",children:[e.jsx("span",{dir:"rtl",className:"text-2xl font-medium text-black dark:text-white lg:text-[16px]",children:"المنتجات المشابهة"}),e.jsx(G,{products:m,subCategoryId:t.subCategory.id,categoryId:t.category.id,likeProduct:!0})]})}function ie({product:t,openDimensions:n=!0,setOpenDimensions:l}){return!t.imgSizeChart&&!t.imgMeasure?null:e.jsx("div",{className:`fixed left-0 top-0 z-50 flex h-screen w-full items-center justify-center bg-black/50 transition-all duration-300 ${n?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"}`,onClick:o=>{o.preventDefault(),o.stopPropagation(),l(!1)},children:e.jsxs("div",{className:"relative h-[90vh] max-h-[600px] w-[90%] max-w-[400px] overflow-hidden rounded-t-3xl border-0 border-gray-200 bg-white p-4 shadow-2xl dark:border-gray-800 dark:bg-gray-900 md:rounded-3xl md:border",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:o=>{o.preventDefault(),o.stopPropagation(),l(!1)},className:"absolute left-4 top-4 z-10 flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:bg-gray-200 dark:hover:bg-gray-800",children:e.jsx("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{dir:"rtl",className:"flex h-full flex-col items-center justify-center gap-4",children:[t.imgSizeChart&&e.jsx("img",{src:t.imgSizeChart,alt:"جدول المقاسات",className:"max-h-[45%] max-w-full object-contain"}),t.imgMeasure&&e.jsx("img",{src:t.imgMeasure,alt:"دليل القياسات",className:"max-h-[45%] max-w-full object-contain"})]})]})})}function le({link:t="https://www.youtube.com/embed/gyMwXuJrbJQ"}){if(t===null)return;const[n,l]=v.useState({x:0,y:96}),[o,f]=v.useState(!1),[m,c]=v.useState({x:0,y:0}),[b,w]=v.useState(!0),j=i=>{i.preventDefault(),i.stopPropagation(),f(!0),c({x:i.clientX-n.x,y:i.clientY-n.y}),document.body.style.overflow="hidden"},u=i=>{o&&(i.preventDefault(),i.stopPropagation(),l({x:i.clientX-m.x,y:i.clientY-m.y}))},h=()=>{f(!1),document.body.style.overflow=""},N=i=>{i.preventDefault(),i.stopPropagation();const y=i.touches[0];f(!0),c({x:y.clientX-n.x,y:y.clientY-n.y}),document.body.style.overflow="hidden"},d=i=>{if(!o)return;i.preventDefault(),i.stopPropagation();const y=i.touches[0];l({x:y.clientX-m.x,y:y.clientY-m.y})},x=()=>{f(!1),document.body.style.overflow=""},g=i=>{i.preventDefault(),i.stopPropagation(),w(!1)};return v.useEffect(()=>(o&&(document.addEventListener("mousemove",u,{passive:!1}),document.addEventListener("mouseup",h),document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("touchend",x)),()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",x),document.body.style.overflow=""}),[o,m]),v.useEffect(()=>()=>{document.body.style.overflow=""},[]),b?e.jsxs("div",{className:`fixed z-50 h-auto w-auto cursor-move select-none rounded-lg ${o?"opacity-80":""}`,style:{left:`${n.x}px`,top:`${n.y}px`,transform:o?"scale(1.05)":"scale(1)",transition:o?"none":"transform 0.2s ease",touchAction:"none"},onMouseDown:j,onTouchStart:N,children:[e.jsx("button",{onClick:g,className:"absolute -right-2 -top-2 z-10 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full bg-white shadow-md hover:bg-gray-100",children:e.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"relative h-40 w-28 overflow-hidden rounded-lg",style:{pointerEvents:"none"},children:e.jsx("iframe",{className:"absolute left-0 top-0 h-40 w-28",src:`${t}?autoplay=1&mute=1&loop=1&modestbranding=1&rel=0&iv_load_policy=3&playsinline=1`,title:"YouTube video",allow:"autoplay; encrypted-media",muted:!0})})]}):null}export{fe as default};
