import{r as B,j as e,a as X,b as V,c as Y,d as P,s as G,e as _,f as U,g as y,h as J,i as H,k as T,l as Q,m as W,n as q,G as K,o as Z,p as O,q as D,R as $,M as ee,t as te}from"./index-D1jvr3vn.js";import{a as se,u as ae}from"./useCategoryProducts-D1XG1D4t.js";import"./vendor-CbIZvbuk.js";var F={},A;function re(){if(A)return F;A=1;var t=B.GenIcon;return F.FaWhatsapp=function(i){return t({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(i)},F}var ne=re();const oe=({product:t})=>{const r=`مرحباً!

أرغب بالحصول على مزيد من التفاصيل حول هذا المنتج:

الاسم: ${t.name}
رابط المنتج: ${window.location.href}

شكراً لكم مقدمًا!`,o=`https://api.whatsapp.com/send?phone=972569341491&text=${encodeURIComponent(r)}`;return e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 z-50 flex items-center justify-center rounded-full bg-green-500 p-4 text-white shadow-lg transition hover:bg-green-600",title:"تواصل عبر واتساب",children:e.jsx(ne.FaWhatsapp,{})})};function R(t){return t?t.startsWith("http")?t:`https://api.rabbit.ps/uploads/${t}`:""}const ie=()=>{const{id:t}=X(),r=V(),i=Y(),o=P(G),f=P(_),m=P(U),{data:c,isLoading:b,error:v}=se(t),j=(v==null?void 0:v.message)||null;if(y.useEffect(()=>{i(J())},[t,i]),y.useEffect(()=>{c&&i(H({product:c}))},[c,i]),t&&isNaN(parseInt(t)))return setTimeout(()=>{r("/")},2e3),{product:null,loading:!1,error:"Invalid product ID",selectedColor:o,selectedSize:f,quantity:m,setSelectedColor:x=>i(q(x)),setSelectedSize:x=>i(W({sizeName:x,product:c})),setQuantity:x=>i(Q(x)),handleQuantityChange:x=>{const g=u(c,f,o);i(T({newQuantity:x,maxQuantity:g}))},colorQuantity:0,prefixImgUrl:R};const u=(d,x,g)=>{var w,C,L;if(!d)return 0;const l=(w=d.sizeDetails)==null?void 0:w.find(k=>k.sizeName===x);return((L=(C=l==null?void 0:l.quantities)==null?void 0:C.find(k=>k.colorName===g))==null?void 0:L.quantity)||0},h=u(c,f,o);return{product:c,loading:b,error:j,selectedColor:o,selectedSize:f,quantity:m,setSelectedColor:d=>i(q(d)),setSelectedSize:d=>i(W({sizeName:d,product:c})),setQuantity:d=>i(Q(d)),handleQuantityChange:d=>{i(T({newQuantity:d,maxQuantity:h}))},colorQuantity:h,prefixImgUrl:R}};function le(t){return K({attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 3.04999C11.7485 3.04999 11.95 3.25146 11.95 3.49999V7.49999C11.95 7.74852 11.7485 7.94999 11.5 7.94999C11.2515 7.94999 11.05 7.74852 11.05 7.49999V4.58639L4.58638 11.05H7.49999C7.74852 11.05 7.94999 11.2515 7.94999 11.5C7.94999 11.7485 7.74852 11.95 7.49999 11.95L3.49999 11.95C3.38064 11.95 3.26618 11.9026 3.18179 11.8182C3.0974 11.7338 3.04999 11.6193 3.04999 11.5L3.04999 7.49999C3.04999 7.25146 3.25146 7.04999 3.49999 7.04999C3.74852 7.04999 3.94999 7.25146 3.94999 7.49999L3.94999 10.4136L10.4136 3.94999L7.49999 3.94999C7.25146 3.94999 7.04999 3.74852 7.04999 3.49999C7.04999 3.25146 7.25146 3.04999 7.49999 3.04999L11.5 3.04999Z",fill:"currentColor"},child:[]}]})(t)}function ge(){const{product:t,selectedColor:r,setSelectedColor:i,selectedSize:o,setSelectedSize:f,quantity:m,handleQuantityChange:c,loading:b,error:v}=ie(),{addItem:j}=Z(),{addToast:u}=O(),[h,N]=y.useState(),d=g=>{i(g),N(null)},x=()=>{var S,s,p,a;if(!t||!r||!o){u({title:"خطأ في الاختيار",description:"يرجى اختيار اللون والحجم"});return}const g=(S=t.colors)==null?void 0:S.find(n=>n.name===r),l=(s=t.sizeDetails)==null?void 0:s.find(n=>n.sizeName===o);if(!l){u({title:"خطأ في المقاس",description:"حجم غير صحيح"});return}let w=1;if(l&&l.quantities){const n=l.quantities.find(z=>z.colorName.trim()===r.trim());n&&(w=n.quantity)}const C=((p=t.sizeDetails)==null?void 0:p.map(n=>n.sizeName))||[],L=((a=t.colors)==null?void 0:a.map(n=>n.name))||[],k={...t,productId:t.id,sizeName:o,colorName:r,quantity:w,qty:m,image:(g==null?void 0:g.imgColor)||t.imgCover,price:l.price,availableSizes:C,availableColors:L};j(k),u({title:"تمت الإضافة!",description:`تم إضافة المنتج (${t.name}) إلى السلة بنجاح.`})};return v?e.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center",children:[e.jsx("p",{className:"text-red-500",children:v}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Redirecting to home page..."})]}):b?e.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Loading product..."})}):t?e.jsxs("div",{children:[e.jsx("div",{className:"relative m-[16px] flex flex-col justify-center gap-2 lg:mt-16",children:e.jsx(de,{MainImage:h,setMainImage:N,product:t,selectedColor:r,selectedSize:o,quantity:m,onColorSelect:d,onSizeSelect:f,onQuantityChange:c,onAddToCart:x})}),e.jsx(ue,{product:t}),e.jsx(oe,{product:t}),e.jsx(me,{link:t.videoLink})]}):null}function ce({product:t,selectedColor:r}){var S,s,p;const i=(S=t.colors)==null?void 0:S.find(a=>a.name===r),o=(i==null?void 0:i.imgColor)||t.imgCover||((s=t.images)==null?void 0:s[0]),f=((p=t.colors)==null?void 0:p.map(a=>a.imgColor).filter(Boolean))||[],m=t.images||[],c=[...new Set([...m,...f])],[b,v]=y.useState(0),j=c[b]||o,u=a=>{a&&(a.preventDefault(),a.stopPropagation()),v(n=>n===c.length-1?0:n+1)},h=a=>{a&&(a.preventDefault(),a.stopPropagation()),v(n=>n===0?c.length-1:n-1)},[N,d]=y.useState(null),[x,g]=y.useState(null),l=50,w=a=>{g(null),d(a.targetTouches[0].clientX)},C=a=>{g(a.targetTouches[0].clientX)},L=a=>{if(!N||!x)return;const n=N-x,z=n>l,M=n<-50;z&&u(a),M&&h(a)},k=a=>{const n=c.findIndex(z=>z===a);n!==-1&&v(n)};return y.useEffect(()=>(window.updateCarouselImage=k,()=>{delete window.updateCarouselImage}),[c]),y.useEffect(()=>{const a=n=>{n.key==="ArrowLeft"?h(n):n.key==="ArrowRight"&&u(n)};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[]),e.jsx("div",{className:"relative w-full lg:w-1/2",children:e.jsxs("div",{className:"relative h-[400px] w-full overflow-hidden rounded-2xl bg-white shadow-lg lg:h-[600px]",onTouchStart:w,onTouchMove:C,onTouchEnd:L,onMouseDown:a=>a.preventDefault(),children:[e.jsx("img",{src:`https://api.rabbit.ps/uploads/${j}`,alt:`${t.name} - صورة ${b+1}`,className:"h-full w-full object-contain p-4 transition-all duration-300"}),c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h,onTouchEnd:a=>{a.stopPropagation(),h()},className:"group absolute left-4 top-1/2 flex h-12 w-12 -translate-y-1/2 touch-manipulation items-center justify-center rounded-full bg-white/80 text-gray-800 shadow-lg transition-all duration-200 hover:scale-110 hover:bg-white active:scale-95 active:bg-white/90","aria-label":"الصورة السابقة",style:{touchAction:"manipulation"},children:e.jsx("svg",{className:"h-6 w-6 transition-colors group-hover:text-blue-600 group-active:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:u,onTouchEnd:a=>{a.stopPropagation(),u()},className:"group absolute right-4 top-1/2 flex h-12 w-12 -translate-y-1/2 touch-manipulation items-center justify-center rounded-full bg-white/80 text-gray-800 shadow-lg transition-all duration-200 hover:scale-110 hover:bg-white active:scale-95 active:bg-white/90","aria-label":"الصورة التالية",style:{touchAction:"manipulation"},children:e.jsx("svg",{className:"h-6 w-6 transition-colors group-hover:text-blue-600 group-active:text-blue-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})})}function de({product:t,selectedColor:r,selectedSize:i,quantity:o,onColorSelect:f,onSizeSelect:m,onQuantityChange:c,onAddToCart:b,setMainImage:v,MainImage:j}){var w,C,L,k,S;const[u,h]=y.useState(!1),N=y.useRef(null),d=(w=t.sizeDetails)==null?void 0:w.find(s=>s.sizeName===i),x=(d==null?void 0:d.price)||0,g=((L=(C=d==null?void 0:d.quantities)==null?void 0:C.find(s=>s.colorName===r))==null?void 0:L.quantity)||0,l=()=>{var p;if(!t.sizeDetails||t.sizeDetails.length<=1)return!1;const s=(p=t.sizeDetails[0])==null?void 0:p.price;return t.sizeDetails.some(a=>a.price!==s)};return e.jsxs("div",{className:"relative mx-2 mt-16 md:mx-0 lg:mt-0",children:[e.jsx("form",{dir:"rtl",className:"mx-auto flex flex-col gap-8 lg:flex-row",children:e.jsxs(D,{className:"w-full gap-4",children:[e.jsxs($,{className:"w-full flex-col lg:flex-row lg:gap-8",children:[e.jsx(ce,{product:t,selectedColor:r,MainImage:j,setMainImage:v,ref:N}),e.jsxs(D,{className:"gap-8",children:[e.jsxs(D,{className:"gap-4",children:[e.jsx($,{className:"items-center justify-between",children:e.jsx("span",{dir:"rtl",className:"ml-auto font-Lato text-2xl font-bold text-slate-800 dark:text-white lg:text-2xl",children:t.name})}),e.jsx("span",{dir:"rtl",className:"ml-auto text-[16px] text-[#3e3e3e] dark:text-gray-400",children:t.description}),e.jsxs("span",{dir:"rtl",className:"flex gap-2 rounded-lg font-NotoSerif text-4xl font-semibold tracking-wider text-slate-800 drop-shadow-lg dark:text-white",children:[e.jsx("span",{className:"font-Lato text-[18px] font-semibold text-[#2c2c2c] dark:text-white",children:"السعر :"}),e.jsx("img",{src:"/Layer_1.svg",alt:"شيكل",className:"h-4 w-4 self-end drop-shadow"}),x]})]}),l()&&e.jsxs("div",{className:"ml-auto flex w-fit flex-row-reverse items-end gap-2 rounded-lg border border-[#FFD6D6] bg-[#FFF0F0] px-4 py-2 shadow-sm",children:[e.jsx("svg",{dir:"rtl",className:"mr-auto h-5 w-5 animate-bounce text-[#DF4444]",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12c0 4.97-4.03 9-9 9s-9-4.03-9-9 4.03-9 9-9 9 4.03 9 9z"})}),e.jsxs("span",{dir:"rtl",className:"text-right font-Lato text-[15px] font-semibold text-[#DF4444] md:text-[17px]",children:["ملاحظة:"," ",e.jsx("span",{className:"font-normal",children:"السعر يختلف حسب الحجم"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:gap-8",children:[e.jsxs("fieldset",{className:"m-0 flex flex-row flex-wrap items-center gap-3 border-0 p-0",children:[e.jsx("span",{className:"mb-2 ml-2 mt-3 max-w-[450px] text-right text-black dark:text-white",children:"القياس :"}),(k=t.sizeDetails)==null?void 0:k.map(s=>{var a;const p=((a=s.quantities)==null?void 0:a.some(n=>n.quantity>0))||!1;return e.jsxs("label",{className:`relative flex h-[44px] min-w-[60px] items-center justify-center rounded-lg border-2 px-4 py-2 font-Lato text-[18px] shadow-sm transition-all duration-200 ${p?i===s.sizeName?"cursor-pointer border-blue-500 bg-blue-50 text-blue-700 ring-2 ring-blue-200":"cursor-pointer border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50":"cursor-not-allowed border-gray-300 bg-gray-100 text-gray-400 opacity-50"} `,style:{userSelect:"none"},onClick:n=>{n.preventDefault(),n.stopPropagation(),p&&m(s.sizeName)},children:[e.jsx("input",{type:"radio",name:"size",value:s.sizeName,checked:i===s.sizeName,disabled:!p,onChange:()=>m(s.sizeName),className:"absolute h-0 w-0 opacity-0",tabIndex:0,"aria-label":s.sizeName}),e.jsx("span",{className:"pointer-events-none",children:s.sizeName}),i===s.sizeName&&e.jsx("span",{className:"absolute -left-2 -top-2 flex h-5 w-5 items-center justify-center rounded-full border-2 border-white bg-blue-500 text-xs text-white shadow-md",children:"✓"})]},s.sizeName)}),t.imgSizeChart&&t.imgMeasure&&e.jsxs("button",{type:"button",onClick:s=>{s.preventDefault(),s.stopPropagation(),h(!0)},className:"flex w-fit items-center gap-2 rounded-lg border border-blue-200 bg-blue-50 px-3 py-2 text-sm font-medium text-blue-600 shadow-sm transition-all duration-200 hover:bg-blue-100 hover:text-blue-700 hover:shadow-md dark:border-blue-800 dark:bg-blue-900/30 dark:text-blue-400 dark:hover:bg-blue-900/50 dark:hover:text-blue-300",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{children:"اضغط هنا لمعرفة مقاسك"})]})]}),e.jsxs("fieldset",{className:"m-0 flex flex-row flex-wrap items-center justify-start gap-2 border-0 p-0",children:[e.jsx("span",{className:"mb-2 ml-2 mt-2 max-w-[450px] text-right text-black dark:text-white",children:"اللون :"}),(S=t.colors)==null?void 0:S.map(s=>{var z,M,E;const p=(z=t.sizeDetails)==null?void 0:z.find(I=>I.sizeName===i),n=(((E=(M=p==null?void 0:p.quantities)==null?void 0:M.find(I=>I.colorName===s.name))==null?void 0:E.quantity)||0)>0;return e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("div",{className:`relative flex h-14 w-14 items-center justify-center rounded-lg border-[1px] object-cover p-1 transition ${n?r===s.name?"cursor-pointer border-blue-400":"cursor-pointer border-[#535353]":"cursor-not-allowed border-gray-300 opacity-50"}`,style:{boxSizing:"border-box"},onClick:I=>{I.preventDefault(),I.stopPropagation(),n&&(f(s.name),window.updateCarouselImage&&window.updateCarouselImage(s.imgColor))},children:[e.jsx("input",{type:"radio",name:"color",value:s.name,checked:r===s.name,disabled:!n,onChange:()=>f(s.name),className:"absolute h-0 w-0 opacity-0","aria-label":s.name}),e.jsx("img",{src:`https://api.rabbit.ps/uploads/${s.imgColor}`,alt:s.name,className:"h-full w-full rounded-md object-cover"}),!n&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-black/60",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"block px-1 text-center text-xs font-bold text-white",children:"غير متوفر"}),e.jsx("div",{className:"absolute left-0 right-0 top-1/2 h-0.5 -translate-y-1/2 transform bg-red-500"})]})}),r===s.name&&e.jsx("div",{className:"absolute right-1 top-1 flex h-5 w-5 items-center justify-center rounded-full border-2 border-white bg-blue-400",children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M4 8.5L7 11.5L12 5.5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e.jsx("span",{className:"max-w-[56px] truncate text-center text-xs text-black dark:text-white",children:s.name})]},s.name)})]}),r?e.jsxs("div",{className:"my-2 flex flex-row items-center gap-2",children:[e.jsx("span",{dir:"rtl",className:"text-[18px] font-medium text-black dark:text-white",children:"المتوفر :"}),e.jsx("div",{dir:"rtl",className:"flex min-w-[48px] items-center justify-center rounded-full border border-green-400 bg-green-100 px-4 py-1",children:e.jsxs("span",{dir:"rtl",className:"text-[20px] font-bold tracking-widest text-green-600",children:[g," قطع"]})}),e.jsx("span",{className:"mr-2 flex items-center gap-1 text-[14px] text-black dark:text-white"})]}):e.jsx("div",{className:"my-2 flex flex-row items-center gap-2",children:e.jsx("span",{dir:"rtl",className:"text-[18px] font-medium text-red-600 dark:text-red-400",children:"يرجى اختيار لون متوفر"})}),e.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[e.jsxs("div",{className:`flex h-[44px] w-1/2 max-w-[150px] flex-row-reverse items-center justify-between rounded-lg border border-[#E0E0E0] shadow-sm ${r?"bg-[#FAFAFA]":"bg-gray-100 opacity-50"}`,children:[e.jsx("button",{type:"button",onClick:()=>c(o+1),className:"flex h-10 w-10 items-center justify-center rounded-lg p-[4px] py-3 text-xl font-bold text-[#0095FF] transition hover:bg-[#E6F4FF]","aria-label":"زيادة الكمية",tabIndex:0,disabled:!r,children:"+"}),e.jsx("input",{type:"text",name:"quantity",inputMode:"numeric",pattern:"[0-9]*",min:1,max:g,value:o,onChange:s=>{const p=s.target.value.replace(/\D/g,""),a=parseInt(p,10);isNaN(a)||c(a)},className:"w-8 select-none border-none bg-transparent text-center font-Lato text-lg font-semibold text-[#232323] focus:outline-none","aria-label":"الكمية",disabled:!r}),e.jsx("button",{type:"button",onClick:()=>c(o>1?o-1:1),className:"flex h-10 w-10 items-center justify-center rounded-lg text-xl font-bold text-[#DF4444] transition hover:bg-[#FFF0F0]","aria-label":"إنقاص الكمية",disabled:o<=1||!r,tabIndex:0,children:"-"})]}),e.jsxs("button",{type:"button",onClick:b,className:`group flex h-[44px] w-1/2 flex-row-reverse items-center justify-center gap-[4px] rounded-lg border-2 border-solid p-[4px] py-3 shadow transition-colors ${r?"border-[#ecebebf0] bg-[#fefefe] hover:bg-blue-50 dark:border-blue-800 dark:bg-gradient-to-r dark:from-blue-900 dark:to-blue-700 dark:hover:bg-blue-800/80":"cursor-not-allowed border-gray-300 bg-gray-100 opacity-50"}`,disabled:!r,children:[e.jsx("span",{className:`font-Lato transition-colors ${r?"text-black dark:text-white dark:group-hover:text-white":"text-gray-500"}`,children:"أضف الى السلة"}),e.jsx(ee,{className:`h-5 w-5 transition-colors ${r?"text-blue-600 group-hover:fill-blue-600 dark:fill-white dark:text-white dark:group-hover:fill-white":"text-gray-500"}`})]})]})]})]})]}),t.imgSizeChart&&t.imgMeasure&&e.jsx(xe,{product:t,openDimensions:u,setOpenDimensions:h})]})}),e.jsxs(D,{dir:"rtl",className:"mx-auto mt-4 justify-center gap-10 border-y border-gray-200 p-4 dark:border-gray-700 lg:flex-row",children:[e.jsxs("div",{className:"mx-auto flex w-64 flex-col items-center justify-center",children:[e.jsx("img",{src:"/okOrder.svg",alt:"",className:"text-blue h-20 w-20"}),e.jsx($,{children:e.jsx("span",{className:"py-3 text-[20px] font-semibold text-[#535353] dark:text-white",children:"الدفع والتوصيل:"})}),e.jsx("span",{className:"text-center text-[14px] text-gray-500 dark:text-gray-300",children:"ببساطة نقوم بايصال المنتج لغاية منزلك وتقوم بدفع الثمن لموظف التوصيل."})]}),e.jsxs("div",{className:"mx-auto flex w-64 flex-col items-center justify-center",children:[e.jsx("img",{src:"/return.svg",alt:"",className:"h-20 w-20"}),e.jsx("span",{className:"py-3 text-[20px] font-semibold text-[#535353] dark:text-white",children:"التبديل:"}),e.jsx("span",{className:"text-center text-[14px] text-gray-500 dark:text-gray-300",children:"تواصل معنا عبر رسائل الواتس اب لإتمام عملية التبديل و نقوم بايصال المنتج ل باب منزلك مع دفع أجرة التوصيل ."})]}),e.jsxs("div",{className:"mx-auto flex w-64 flex-col items-center justify-center",children:[e.jsx("img",{src:"/offOrder.svg",alt:"",className:"h-20 w-20"}),e.jsx("span",{className:"py-3 text-[20px] font-semibold text-[#535353] dark:text-white",children:"الغاء الطلب:"}),e.jsx("span",{className:"text-center text-[14px] text-gray-500 dark:text-gray-300",children:"بعد إتمام طلبك و اردت إلغاء الطلب تواصل معنا عبر الواتس اب ل إلغاء الطلب"})]})]})]})}function ue({product:t}){const{data:i=[],isLoading:o,error:f}=ae(t.category.id,t.subCategory.id,10),m=i.map(c=>{var j;let b=c.imgCover;typeof b=="string"&&b.startsWith("https://api.rabbit.ps/uploads")&&(b=b.replace("https://api.rabbit.ps/uploads",""));const v=((j=c.colors)==null?void 0:j.map(u=>{var h;return{...u,imgColor:(h=u.imgColor)!=null&&h.startsWith("https://api.rabbit.ps/uploads")?u.imgColor.replace("https://api.rabbit.ps/uploads",""):u.imgColor}}))||[];return{...c,imgCover:b,colors:v}});return e.jsxs(D,{className:"mr-4",children:[e.jsx("span",{dir:"rtl",className:"text-2xl font-medium text-black dark:text-white lg:text-[16px]",children:"المنتجات المشابهة"}),e.jsx(te,{products:m,subCategoryId:t.subCategory.id,categoryId:t.category.id,likeProduct:!0})]})}function xe({product:t,openDimensions:r=!0,setOpenDimensions:i}){return!t.imgSizeChart&&!t.imgMeasure?null:e.jsx("div",{className:`fixed left-0 top-0 z-50 flex h-screen w-full items-center justify-center bg-black/50 transition-all duration-300 ${r?"pointer-events-auto opacity-100":"pointer-events-none opacity-0"}`,onClick:o=>{o.preventDefault(),o.stopPropagation(),i(!1)},children:e.jsxs("div",{className:"relative h-[90vh] max-h-[600px] w-[90%] max-w-[400px] overflow-hidden rounded-t-3xl border-0 border-gray-200 bg-white p-4 shadow-2xl dark:border-gray-800 dark:bg-gray-900 md:rounded-3xl md:border",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:o=>{o.preventDefault(),o.stopPropagation(),i(!1)},className:"absolute left-4 top-4 z-10 flex h-8 w-8 items-center justify-center rounded-full transition-colors hover:bg-gray-200 dark:hover:bg-gray-800",children:e.jsx("svg",{className:"h-5 w-5 text-gray-600 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{dir:"rtl",className:"flex h-full flex-col items-center justify-center gap-4",children:[t.imgSizeChart&&e.jsx("img",{src:t.imgSizeChart,alt:"جدول المقاسات",className:"max-h-[45%] max-w-full object-contain"}),t.imgMeasure&&e.jsx("img",{src:t.imgMeasure,alt:"دليل القياسات",className:"max-h-[45%] max-w-full object-contain"})]})]})})}function me({link:t="https://www.youtube.com/embed/gyMwXuJrbJQ"}){if(t===null)return;const[r,i]=y.useState({x:0,y:96}),[o,f]=y.useState(!1),[m,c]=y.useState({x:0,y:0}),[b,v]=y.useState(!0),j=l=>{l.preventDefault(),l.stopPropagation(),f(!0),c({x:l.clientX-r.x,y:l.clientY-r.y}),document.body.style.overflow="hidden"},u=l=>{o&&(l.preventDefault(),l.stopPropagation(),i({x:l.clientX-m.x,y:l.clientY-m.y}))},h=()=>{f(!1),document.body.style.overflow=""},N=l=>{l.preventDefault(),l.stopPropagation();const w=l.touches[0];f(!0),c({x:w.clientX-r.x,y:w.clientY-r.y}),document.body.style.overflow="hidden"},d=l=>{if(!o)return;l.preventDefault(),l.stopPropagation();const w=l.touches[0];i({x:w.clientX-m.x,y:w.clientY-m.y})},x=()=>{f(!1),document.body.style.overflow=""},g=l=>{l.preventDefault(),l.stopPropagation(),v(!1)};return y.useEffect(()=>(o&&(document.addEventListener("mousemove",u,{passive:!1}),document.addEventListener("mouseup",h),document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("touchend",x)),()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",x),document.body.style.overflow=""}),[o,m]),y.useEffect(()=>()=>{document.body.style.overflow=""},[]),b?e.jsxs("div",{className:`fixed z-50 h-auto w-auto cursor-move select-none rounded-lg ${o?"opacity-80":""}`,style:{left:`${r.x}px`,top:`${r.y}px`,transform:o?"scale(1.05)":"scale(1)",transition:o?"none":"transform 0.2s ease",touchAction:"none"},onMouseDown:j,onTouchStart:N,children:[e.jsx("button",{onClick:g,className:"absolute -right-2 -top-2 z-10 flex h-6 w-6 cursor-pointer items-center justify-center rounded-full bg-white shadow-md hover:bg-gray-100",children:e.jsx("svg",{className:"h-4 w-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"relative h-40 w-28 overflow-hidden rounded-lg",style:{pointerEvents:"none"},children:e.jsx("iframe",{className:"absolute left-0 top-0 h-40 w-28",src:`${t}?autoplay=1&mute=1&loop=1&modestbranding=1&rel=0&iv_load_policy=3&playsinline=1`,title:"YouTube video",allow:"autoplay; encrypted-media",muted:!0})})]}):null}export{ge as default};
